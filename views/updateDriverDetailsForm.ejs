<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <!-- <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png"> -->
    <title>
        <%- title %>
    </title>
    <!-- Custom CSS -->
    <link href="assets/libs/flot/css/float-chart.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="dist/css/style.min.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <link rel="stylesheet" type="text/css" href="assets/extra-libs/multicheck/multicheck.css">
    <link href="assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet">
    <link href="dist/css/style.min.css" rel="stylesheet">
    <link rel="stylesheet" href="sweetAlert/sweetalert2.min.css">
    <link rel="stylesheet" type="text/css"
        href="assets/libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <style type="text/css">
        .gap {
            text-align: center;
            background-color: #e2181870;

        }

        .thClass {
            font-size: 18px;
            font-weight: bold;
        }

        .disableClick {
            pointer-events: none;
        }

        .modal {
            padding: 0 !important;
        }

        .modal .modal-dialog {
            width: 100%;
            max-width: none;
            height: 100%;
            margin: 0;
        }

        .modal .modal-content {
            height: 100%;
            border: 0;
            border-radius: 0;
        }

        .modal .modal-body {
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->

        <%- include('includes/header.ejs') %>
            <%- include('includes/sidebarDriver.ejs') %>

                <!-- Page wrapper  -->
                <!-- ============================================================== -->
                <div class="page-wrapper">
                    <!-- ============================================================== -->
                    <!-- Bread crumb and right sidebar toggle -->
                    <!-- ============================================================== -->
                    <div class="page-breadcrumb">
                        <div class="row">
                            <div class="col-12 d-flex no-block align-items-center">
                                <h4 class="page-title">
                                    <%- title %>
                                </h4>
                                <div class="ml-auto text-right">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">
                                                <%- title %>
                                            </li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ============================================================== -->
                    <!-- End Bread crumb and right sidebar toggle -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Container fluid  -->
                    <!-- ============================================================== -->
                    <div class="container-fluid">

                        <div id="editmodaladdress" class="modal fade" tabindex="-1" role="dialog"
                            aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"
                            data-keyboard="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-md-2">
                                            </div>
                                            <div class="col-md-8">
                                                <h3 align="center" class="card-title">Edit Address</h3>
                                                <div class="card-body">
                                                    <form class="form-horizontal" id="updateAddress"
                                                        style="background: #27a9e324;border-radius: 35px;">
                                                        <div class="card-body" id="updateAddress_details">
                                                            <br>
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <input type="hidden" name="id" id="id">
                                                                    <div class="form-group row">
                                                                        <label for="driverAddress"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Address</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverAddress" value=""
                                                                                id="driverAddress">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverCity"
                                                                            class="col-sm-3 control-label col-form-label">City</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverCity" value=""
                                                                                id="driverCity">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverState"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            State</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverState" value=""
                                                                                id="driverState">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverCountry"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Country</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverCountry" value=""
                                                                                id="driverCountry">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverProvince"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Province</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverProvince" value=""
                                                                                id="driverProvince">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverPostalCode"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            PostalCode</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverPostalCode" value=""
                                                                                id="driverPostalCode">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverFromDate"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            From Date</label>
                                                                        <div class="col-md-9">
                                                                            <input readonly type="date"
                                                                                class="form-control"
                                                                                name="driverFromDate" value=""
                                                                                id="driverFromDate">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverToDate"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            To Date</label>
                                                                        <div class="col-md-9">
                                                                            <input type="date" readonly
                                                                                class="form-control" name="driverToDate"
                                                                                value="" id="driverToDate">
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="border-top">
                                                            <div style="text-align: center;" class="card-body">
                                                                <button type="Submit" id="submitBtn"
                                                                    class="btn btn-primary">Update</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <div id="addmodaladdress" class="modal fade" tabindex="-1" role="dialog"
                            aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"
                            data-keyboard="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-md-2">
                                            </div>
                                            <div class="col-md-8">
                                                <h3 align="center" class="card-title">Add Driver Details</h3>
                                                <div class="card-body">
                                                    <form class="form-horizontal" id="addAddress"
                                                        style="background: #27a9e324;border-radius: 35px;">
                                                        <div class="card-body" id="addAddress_details">
                                                            <br>
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <input type="hidden" id="id">
                                                                    <input type="hidden" id="company_id"
                                                                        name="company_id">
                                                                    <input type="hidden" id="driverId" name="driverId">
                                                                    <div class="form-group row">
                                                                        <label for="driverAddress"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Address</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverAddress" value=""
                                                                                id="driverAddress">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverCity"
                                                                            class="col-sm-3 control-label col-form-label">City</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverCity" value=""
                                                                                id="driverCity">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverState"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            State</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverState" value=""
                                                                                id="driverState">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverCountry"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Country</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverCountry" value=""
                                                                                id="driverCountry">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverProvince"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            Province</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverProvince" value=""
                                                                                id="driverProvince">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="driverPostalCode"
                                                                            class="col-sm-3 control-label col-form-label">Driver
                                                                            PostalCode</label>
                                                                        <div class="col-md-9">
                                                                            <input type="text" class="form-control"
                                                                                name="driverPostalCode" value=""
                                                                                id="driverPostalCode">
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <div class="form-group row">
                                                                        <label for="DriverPostalCode"
                                                                            class="col-sm-3 control-label col-form-label">From
                                                                            Date</label>
                                                                        <div class="col-md-9">
                                                                            <input type="date" readonly
                                                                                class="form-control" id="fromDate"
                                                                                name="driverFromDate">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label for=""
                                                                            class="col-sm-3 control-label col-form-label">To
                                                                            Date</label>
                                                                        <div class="col-md-9">
                                                                            <input type="date" readonly
                                                                                class="form-control" name="driverToDate"
                                                                                id="toDate">
                                                                        </div>
                                                                    </div>



                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="border-top">
                                                            <div style="text-align: center;" class="card-body">
                                                                <button type="Submit" id="submitBtn"
                                                                    class="btn btn-primary">Add</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>







                        <div class="card-body">
                            <a href='javascript:void(0)' id='' class='btn  btn-primary viewmodalclass'><span
                                    class='fas fa-search'> View Address</span></a>
                            <div class="row p-b-30">
                                <div class="col-12">


                                    <form class="form-horizontal" id="updateDriver"
                                        style="background: #27a9e324;border-radius: 35px;">
                                        <div class="card-body" id="updateDriver_details">
                                            <span>Approvals Status: <h5 id="approveStatus"></h5></span>
                                            <!-- <h3 align="center" class="card-title">Create company</h3> -->
                                            <div style="text-align: center;">
                                                <span>
                                                    <h4>
                                                        <%- CompanyName %>
                                                    </h4>
                                                </span>
                                                <!-- <img style="width: 70%" src="images/truck_company.png" alt="homepage" class="light-logo" /> -->
                                            </div>
                                            <br>

                                            <input type="hidden" class="form-control" value="<%- driverID %>"
                                                name="driverId" value="" id="id">
                                            <input type="hidden" class="form-control" value="<%- company_id %>"
                                                name="company_id" value="" id="company_id">
                                            <input type="hidden" class="form-control" name="approveStatus" value="0"
                                                id="approveStatus">
                                            <input type="hidden" class="form-control" name="actionData" value=""
                                                id="actionData">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group row">
                                                        <label for="firstName"
                                                            class="col-sm-3 control-label col-form-label">Applicant
                                                            Name</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="firstName"
                                                                value="" id="firstName">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="middleName"
                                                            class="col-sm-3 control-label col-form-label">Applicant
                                                            Middle
                                                            Name</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="middleName"
                                                                value="" id="middleName">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="lastName"
                                                            class="col-sm-3 control-label col-form-label">Applicant Last
                                                            Name</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="lastName"
                                                                value="" id="lastName">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="DOA"
                                                            class="col-sm-3 control-label col-form-label">Date Of
                                                            Application</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control mydatepickerDOB"
                                                                name="DOA" value="" id="DOA">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="companyAddress"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            Address</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control"
                                                                name="companyAddress" value="" id="companyAddress">
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="companyCity"
                                                            class="col-sm-3 control-label col-form-label">City</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="companyCity"
                                                                value="" id="companyCity">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="companyState"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            State</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="companyState"
                                                                value="" id="companyState">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="companyCountry"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            Country</label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="companyCountry"
                                                                id="companyCountry">
                                                                <option value="">Select Country</option>
                                                                <option value="US">US</option>
                                                                <option value="Canada">Canada</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="companyProvince"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            Province</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control"
                                                                name="companyProvince" value="" id="companyProvince">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="TimeZone"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            Timezone</label>
                                                        <div class="col-md-9">
                                                            <div class="col-xs-3 col-xs-offset-4">
                                                                <div id="calContainer">


                                                                    <!-- <label
                                                                        class=" control-label calendar-legend-section-header-text">Timezone
                                                                        Selector</label> -->
                                                                    <input type="hidden" id="eventsCalTimezoneHidden">
                                                                    <select class="form-control timezone-selector"
                                                                        name="eventsCalCountry" id="eventsCalCountry">
                                                                        <option value="CA">Canada</option>
                                                                        <option value="US">United States</option>
                                                                    </select> <select
                                                                    class="form-control timezone-selector"
                                                                    name="eventsCalTimezone" id="eventsCalTimezone">
                                                                    <option value="Eastern">(UTC-05:00)
                                                                        Eastern</option>
                                                                    <option value="Central">(UTC-06:00)
                                                                        Central</option>
                                                                    <option value="Mountain">(UTC-07:00)
                                                                        Mountain</option>
                                                                    <option value="Mountain-AZ">(UTC-07:00)
                                                                        Mountain - AZ</option>
                                                                    <option value="Pacific">(UTC-08:00)
                                                                        Pacific</option>
                                                                    <option value="Alaskan">(UTC-09:00)
                                                                        Alaskan</option>
                                                                    <option value="Hawaiian">(UTC-10:00)
                                                                        Hawaiian</option>


                                                                    <option value="Newfoundland">(UTC-02:30)
                                                                        Newfoundland</option>
                                                                    <option value="Atlantic-Halifax">(UTC-03:00)
                                                                        Atlantic - Halifax</option>
                                                                    <option value="Eastern-Toronto">(UTC-04:00)
                                                                        Eastern - Toronto</option>
                                                                    <option value="Eastern-Iqaluit">(UTC-04:00)
                                                                        Eastern - Iqaluit</option>
                                                                    <option value="Central-Winnipeg">(UTC-05:00)
                                                                        Central - Winnipeg</option>
                                                                    <option value="Central-Regina">(UTC-06:00)
                                                                        Central - Regina</option>
                                                                    <option value="Mountain-Edmonton">(UTC-06:00)
                                                                        Mountain - Edmonton</option>
                                                                    <option value="Mountain-Yellowknife">(UTC-06:00)
                                                                        Mountain - Yellowknife</option>
                                                                    <option value="Dawson Creek">(UTC-07:00)
                                                                        Dawson Creek</option>
                                                                    <option value="Pacific-Vancouver">(UTC-07:00)
                                                                        Pacific - Vancouver</option>
                                                                    <option value="Pacific-Whitehorse">(UTC-07:00)
                                                                        Pacific - Whitehorse</option>
                                                                     </select>
                                                                </div>

                                                            </div>


                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="companyPostalCode"
                                                            class="col-sm-3 control-label col-form-label">Company
                                                            PostalCode</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control"
                                                                name="companyPostalCode" value=""
                                                                id="companyPostalCode">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="position"
                                                            class="col-sm-3 control-label col-form-label">Position</label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="position" id="position">
                                                                <option value="">Select Company</option>
                                                                <option value="Company Driver">Company Driver</option>
                                                                <option value="Owner Operator">Owner Operator</option>
                                                                <option value="Owner Operator Driver">Owner Operator
                                                                    Driver</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="sin"
                                                            class="col-sm-3 control-label col-form-label">Sin</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="sin" value=""
                                                                id="sin">
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for=""
                                                            class="col-sm-3 control-label col-form-label">Three years
                                                            Address</label>
                                                        <div class="col-md-9">
                                                            <div class="container1">
                                                                <button class="add_form_field">Add Driver Details &nbsp;
                                                                    <span style="font-size:16px; font-weight:bold;">+
                                                                    </span>
                                                                </button>
                                                                <!-- <div class="form-group row">
                                                                    <label for="DriverAddress"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        Address</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control" name="DriverAddress[]"
                                                                            value="" id="DriverAddress">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="DriverState"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        State</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control" name="DriverState[]"
                                                                            value="" id="DriverState">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="DriverCity"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        City</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control" name="DriverCity[]"
                                                                            value="" id="DriverCity">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="DriverCountry"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        Country</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control" name="DriverCountry[]"
                                                                            value="" id="DriverCountry">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="DriverProvince"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        Province</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control"
                                                                            name="DriverProvince[]" value="" id="DriverProvince">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="DriverPostalCode"
                                                                        class="col-sm-3 control-label col-form-label">Driver
                                                                        PostalCode</label>
                                                                    <div class="col-md-9">
                                                                        <input type="text" class="form-control"
                                                                            name="DriverPostalCode[]" value="" id="DriverPostalCode">
                                                                    </div>
                                                                </div> -->






                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- <div class="form-group row">
                                                        <label for="belowThree"
                                                            class="col-sm-3 control-label col-form-label"></label>
                                                        <div class="col-md-9">
                                                            <input class="form-check-input" id="belowThree"
                                                                name="belowThree" type="checkbox" value="1"
                                                                id="flexCheckDefault belowThree">
                                                            <label class="form-check-label" for="flexCheckDefault">
                                                                Have you lived at another address in the last three
                                                                years?
                                                            </label>
                                                        </div>
                                                    </div> -->
                                                    <!-- <div id="ifbelowthreeYears">
                                                        <div class="form-group row">
                                                            <label for="DriverAddress1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                Address</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverAddress1" value="" id="DriverAddress1">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="DriverState1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                State</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverState1" value="" id="DriverState1">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="DriverCity1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                City</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverCity1" value="" id="DriverCity1">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="DriverCountry1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                Country</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverCountry1" value="" id="DriverCountry1">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label for="DriverProvince1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                Province</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverProvince1" value=""
                                                                    id="DriverProvince1">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label for="DriverPostalCode1"
                                                                class="col-sm-3 control-label col-form-label">Driver
                                                                PostalCode</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control"
                                                                    name="DriverPostalCode1" value=""
                                                                    id="DriverPostalCode1">
                                                            </div>
                                                        </div>
                                                    </div> -->
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group row">
                                                        <label for="phoneCanada"
                                                            class="col-sm-3 control-label col-form-label">Work Phone
                                                            Canada</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="phoneCanada"
                                                                value="" id="phoneCanada">
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="phoneUSA"
                                                            class="col-sm-3 control-label col-form-label">Work Phone
                                                            USA</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="phoneUSA"
                                                                value="" id="phoneUSA">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="emegencyName"
                                                            class="col-sm-3 control-label col-form-label">Emegency
                                                            Contact
                                                            Name</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="emegencyName"
                                                                value="" id="emegencyName">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="emegencyContact"
                                                            class="col-sm-3 control-label col-form-label">Emegency
                                                            Contact #</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control"
                                                                name="emegencyContact" value="" id="emegencyContact">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="email"
                                                            class="col-sm-3 control-label col-form-label">Email
                                                            Address</label>
                                                        <div class="col-md-9">
                                                            <input type="text" required class="form-control" name="email"
                                                                value="" id="email">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="DOB"
                                                            class="col-sm-3 control-label col-form-label">Date of
                                                            Birth</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control mydatepickerDOB"
                                                                name="DOB" value="" id="DOB">
                                                                <!-- <label>Your Age:</label> -->
                                                            <input readonly type="text" class="form-control" placeholder="Your Age here" id="age" name="age"> 
                                                        </div>

                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="legalRightyesno"
                                                            class="col-sm-3 control-label col-form-label">Do you have
                                                            the legal right to work in Canada?
                                                        </label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="legalRightyesno"
                                                                id="legalRightyesno">
                                                                <option value="">Select option</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>

                                                        </div>
                                                    </div>
                                                    <div id="legalRightyesnoData">
                                                        <div class="form-group row">
                                                            <label for="legalRight"
                                                                class="col-sm-3 control-label col-form-label">Select Any
                                                                option </label>
                                                            <div class="col-md-9">
                                                                <select class="form-select" name="legalRight"
                                                                    id="legalRight">
                                                                    <option value="">Select legalRight</option>
                                                                    <option value="PR">PR</option>
                                                                    <option value="Citizen">Citizen</option>
                                                                    <option value="Work Permit">Work Permit</option>
                                                                </select>

                                                            </div>
                                                        </div>
                                                        <div id="legalRighttachmentdiv" class="form-group row">
                                                            <label for="legalRightAtachment"
                                                                class="col-sm-3 control-label col-form-label"
                                                                id="legalRightAtachmentText"> </label>
                                                            <div class="col-md-9">

                                                                <input id="legalRightAtachment" type="file"
                                                                    accept="application/pdf" accept=""
                                                                    onchange="convertToBase64('legalRightAtachment','legalRightAtachment_file');" />
                                                                <input type="hidden" name="legalRightAtachment_file"
                                                                    id="legalRightAtachment_file">
                                                                <!-- <a target="_blank" id="" href="">View</a> -->
                                                                <a class="btn btn-primary" target="_blank"
                                                                    id="legalRightAtachment_file_link" href="">View
                                                                    <span class="glyphicon glyphicon-edit"></span><i
                                                                        style="font-size: 15px;"
                                                                        class="fas fa-search"></i></a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="legalRightUSA"
                                                            class="col-sm-3 control-label col-form-label">Do you have
                                                            the legal right to enter the United States?</label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="legalRightUSA"
                                                                id="legalRightUSA">
                                                                <option value="">Select LegalRightUSA</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div id="legalRightUSAAtachmentdiv" class="form-group row">
                                                        <label for="legalRightUSAAtachment"
                                                            class="col-sm-3 control-label col-form-label" id="">Legal
                                                            Right USA Attachment</label>
                                                        <div class="col-md-9">

                                                            <input id="legalRightUSAAtachment" type="file"
                                                                accept="application/pdf" accept=""
                                                                onchange="convertToBase64('legalRightUSAAtachment','legalRightUSAAtachment_file');" />
                                                            <input type="hidden" name="legalRightUSAAtachment_file"
                                                                id="legalRightUSAAtachment_file">
                                                            <!-- <a target="_blank" id="" href="">View</a> -->
                                                            <a class="btn btn-primary" target="_blank"
                                                                id="legalRightUSAAtachment_file_link" href="">View
                                                                <span class="glyphicon glyphicon-edit"></span><i
                                                                    style="font-size: 15px;"
                                                                    class="fas fa-search"></i></a>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="FMCSA"
                                                            class="col-sm-3 control-label col-form-label">Have you
                                                            registered with the FMCSA Drug & Alcohol Clearinghouse?
                                                        </label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="FMCSA" id="FMCSA">
                                                                <option value="">Select FMCSA</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="referred"
                                                            class="col-sm-3 control-label col-form-label">Where you
                                                            Referred</label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="referred"
                                                                value="" id="referred">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="referredBy"
                                                            class="col-sm-3 control-label col-form-label">Referred By
                                                        </label>
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control" name="referredBy"
                                                                value="" id="referredBy">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="bonded"
                                                            class="col-sm-3 control-label col-form-label">Have you ever
                                                            been bonded?</label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="bonded" id="bonded">
                                                                <option value="">Select bonded</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="convicted"
                                                            class="col-sm-3 control-label col-form-label">Have you ever
                                                            been convicted of a felony? </label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="convicted" id="convicted">
                                                                <option value="">Select Convicted</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="fastCardyesno"
                                                            class="col-sm-3 control-label col-form-label">Are you a FAST
                                                            approved driver? </label>
                                                        <div class="col-md-9">
                                                            <select required class="form-select" name="fastCardyesno"
                                                                id="fastCardyesno">
                                                                <option value="">Select fastCard</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div id="fastCardyesnoData">

                                                        <div class="form-group row">
                                                            <label for="fastCard"
                                                                class="col-sm-3 control-label col-form-label">Fast
                                                                Card</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control" name="fastCard"
                                                                    value="" id="fastCard">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="fastCardExpiry"
                                                                class="col-sm-3 control-label col-form-label">Fast Card
                                                                Expiry</label>
                                                            <div class="col-md-9">
                                                                <input type="text" class="form-control mydatepicker"
                                                                    name="fastCardExpiry" value="" id="fastCardExpiry">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="fastCardAttachment"
                                                                class="col-sm-3 control-label col-form-label">Fast Card
                                                                Attachment</label>
                                                            <div class="col-md-9">

                                                                <input id="fastCardAttachment" type="file"
                                                                    accept="application/pdf" accept=""
                                                                    onchange="convertToBase64('fastCardAttachment','fastCardAttachment_file');" />
                                                                <input type="hidden" name="fastCardAttachment_file"
                                                                    id="fastCardAttachment_file">
                                                                <!-- <a target="_blank" id="" href="">View</a> -->
                                                                <a class="btn btn-primary" target="_blank"
                                                                    id="fastCardAttachment_file_link" href="">View
                                                                    <span class="glyphicon glyphicon-edit"></span><i
                                                                        style="font-size: 15px;"
                                                                        class="fas fa-search"></i></a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="nofastcarddiv" class="form-group row">
                                                        <label for="fastCardneed"
                                                            class="col-sm-3 control-label col-form-label">Are you
                                                            interested to apply for one </label>
                                                        <div class="col-md-9">
                                                            <select class="form-select" name="fastCardneed"
                                                                id="fastCardneed">
                                                                <option value="">Select fastCard</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                            </select>
                                                        </div>
                                                    </div>

                                                </div>





                                            </div>
                                            <div id="commentsSection">

                                            </div>
                                            <div class="border-top">
                                                <div style="text-align: center;" class="card-body">
                                                    <button type="Submit" id="submitBtn"
                                                        class="btn btn-primary"></button>
                                                </div>
                                            </div>
                                        </div>

                                    </form>
                                </div>


                            </div>



                            <div id="viewmodal" class="modal fade" tabindex="-1" role="dialog"
                                aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"
                                data-keyboard="false">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <h3 align="center" class="card-title">View Address</h3>
                                            <div class="card-body">

                                                <h5 align="center" class="card-title">
                                                    <%- title %>
                                                </h5>
                                                <div class="table-responsive">

                                                    <table id="table" class="table table-striped table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <!-- <th>Id</th> -->
                                                                <th class="thClass">Address</th>
                                                                <th class="thClass">City</th>
                                                                <th class="thClass">State</th>
                                                                <th class="thClass">Country</th>
                                                                <th class="thClass">Province</th>
                                                                <th class="thClass">PostalCode</th>
                                                                <th class="thClass">From</th>
                                                                <th class="thClass">To</th>
                                                                <th class="thClass">Add</th>
                                                                <th class="thClass">Gap</th>
                                                                <th class="thClass">Edit</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <!-- <span id="tableDtls"></span> -->


                                                        </tbody>
                                                    </table>
                                                </div>





                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>



                </div>
                <!-- ============================================================== -->
                <!-- End Container fluid  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- footer -->
                <!-- ============================================================== -->
                <footer class="footer text-center">
                    <!-- All Rights Reserved by Matrix-admin. Designed and Developed by <a href="https://wrappixel.com">WrapPixel</a> -->
                </footer>
                <!-- ============================================================== -->
                <!-- End footer -->
                <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Page wrapper  -->
    <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <%- include('includes/footer.ejs') %>
        <script src="assets/extra-libs/multicheck/datatable-checkbox-init.js"></script>
        <script src="assets/extra-libs/multicheck/jquery.multicheck.js"></script>
        <script src="assets/extra-libs/DataTables/datatables.min.js"></script>
        <script src="assets/libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
        <script>
            //   jQuery(document).ready(function () {

            // $("#toDate").on("change",function(){
            //                 $("#toDate").focusout(function() {
            //                 alert('qwwe')
            //     var selected = $(this).val();
            //     alert(selected);
            // });

            function getMonthDifference(startDate, endDate) {
                console.log(startDate);
                console.log(endDate);
                return (
                    endDate.getMonth() -
                    startDate.getMonth() +
                    12 * (endDate.getFullYear() - startDate.getFullYear())
                );
            }
            function toDate1(parms) {
                let fromDate = jQuery('#fromDate' + parms).val();
                if (fromDate == 'undefined' || fromDate == '') {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Please fill From Date before To Date',
                        icon: 'error',
                        confirmButtonText: 'Cool'
                    })
                    jQuery('#toDate' + parms).val('');
                } else {
                    let todate = jQuery('#toDate' + parms).val();
                    let currentDuration = getMonthDifference(new Date(fromDate), new Date(todate));


                    jQuery('#singleDurationInput' + parms).val(currentDuration);
                    jQuery('#singleDuration' + parms).html('<b>Duration in month</b> : ' + currentDuration)
                }
            }
            // })


            //     $('#toDate'+parms).on("keyup", function() {
            //        alert('test')
            //     console.log(fromdate);
            //    console.log(todate);
            //    })
            /****************************************
             *       Basic Table                   *
             ****************************************/
            // $('#zero_config').DataTable();
            function convertToBase64(inputfile, parms) {
                //Read File
                // alert(inputfile)
                // alert(parms)

                var selectedFile = document.getElementById(inputfile).files;
                console.log(selectedFile);
                //Check File is not Empty
                if (selectedFile.length > 0) {
                    // Select the very first file from list
                    var fileToLoad = selectedFile[0];
                    var filesize = selectedFile[0].size;
                    if (filesize <= '2069405') {
                        console.log(filesize);
                        // FileReader function for read the file.
                        var fileReader = new FileReader();
                        var base64;
                        // Onload of file read the file content
                        fileReader.onload = function (fileLoadedEvent) {
                            base64 = fileLoadedEvent.target.result;
                            // Print data in console
                            console.log(parms);
                            $("#" + parms).val(base64);
                            var div = document.getElementById(parms);
                            div.innerHTML += base64;

                        };
                        // Convert data to base64
                        fileReader.readAsDataURL(fileToLoad);
                    } else {
                        Swal.fire(
                            'Too Big!',
                            'Upload image size within 2 MB.',
                            'danger'
                        )
                        return false;
                    }
                }
            }

            $(document).ready(function () {

                $(document).on('click', '.viewmodalclass', function () {
                    // alert('test')
                    // let id = $(this).attr('data-id');
                    let id = $('body #updateDriver #id').val();
                    // alert(id)
                    console.log(id);
                    // console.log($(this).attr("data-id"));
                    $.ajax({
                        url: "/getDriverDetails",
                        type: "GET",
                        data: { id: id },
                        success: function (data) {
                            console.log(data.data);
                            if (data.status) {
                                $("body #table tbody").html(data.data);
                                // $('body #viewmodal >table > tbody').html(data.data);

                                $('body #viewmodal').modal('show');
                            } else {
                                // Swal.fire('Any fool can use a computer')
                                Swal.fire({
                                    title: 'Error!',
                                    text: 'Something went wrong',
                                    icon: 'error',
                                    confirmButtonText: 'Cool'
                                })
                                // window.location = "/";
                            }

                        }
                    });
                });
                $(document).on('click', '.editmodalclass', function () {
                    // alert('test')
                    let id = $(this).attr('data-id');
                    // let id = $('body #updateDriver #id').val();
                    // alert(id)
                    console.log(id);
                    // console.log($(this).attr("data-id"));
                    $.ajax({
                        url: "/getupdateDriverAddress",
                        type: "GET",
                        data: { id: id },
                        success: function (data) {
                            console.log(data.data.driverAddress);
                            if (data.status) {
                                $('body #editmodaladdress #id').val(data.data.id);
                                $('body #editmodaladdress #driverAddress').val(data.data.driverAddress);
                                $('body #editmodaladdress #driverState').val(data.data.driverState);
                                $('body #editmodaladdress #driverCity').val(data.data.driverCity);
                                $('body #editmodaladdress #driverCountry').val(data.data.driverCountry);
                                $('body #editmodaladdress #driverProvince').val(data.data.driverProvince);
                                $('body #editmodaladdress #driverPostalCode').val(data.data.driverPostalCode);
                                $('body #editmodaladdress #driverFromDate').val(data.data.driverFromDate);
                                $('body #editmodaladdress #driverToDate').val(data.data.driverToDate);
                                // $('body #viewmodal >table > tbody').html(data);
                                $('body #viewmodal').modal('hide');
                                $('body #editmodaladdress').modal('show');
                            } else {
                                // Swal.fire('Any fool can use a computer')
                                Swal.fire({
                                    title: 'Error!',
                                    text: 'Something went wrong',
                                    icon: 'error',
                                    confirmButtonText: 'Cool'
                                })
                                // window.location = "/";
                            }

                        }
                    });
                });
                $(document).on('click', '.addmodalclass', function () {
                    // alert('test')
                    let id = $(this).attr('data-id');
                    let prvTo = $(this).attr('data-prvTo');
                    let currFrom = $(this).attr('data-currFrom');
                    let company_id = $(this).attr('data-company_id');
                    let driverId = $(this).attr('data-driverId');
                    // let id = $('body #updateDriver #id').val();
                    // alert(id)
                    console.log(id);
                    // console.log($(this).attr("data-id"));
                    $.ajax({
                        url: "/getupdateDriverAddress",
                        type: "GET",
                        data: { id: id },
                        success: function (data) {
                            console.log(data.data.driverAddress);
                            if (data.status) {
                                $('body #addmodaladdress #id').val(data.data.id);
                                $('body #addmodaladdress #fromDate').val(prvTo);
                                $('body #addmodaladdress #toDate').val(currFrom);
                                $('body #addmodaladdress #company_id').val(company_id);
                                $('body #addmodaladdress #driverId').val(driverId);
                                $('body #viewmodal').modal('hide');
                                $('body #addmodaladdress').modal('show');
                            } else {
                                // Swal.fire('Any fool can use a computer')
                                Swal.fire({
                                    title: 'Error!',
                                    text: 'Something went wrong',
                                    icon: 'error',
                                    confirmButtonText: 'Cool'
                                })
                                // window.location = "/";
                            }

                        }
                    });
                });
                $(document).on('click', '.deletemodalclass', function () {
                    // alert('test')
                    let id = $(this).attr('data-id');
                    console.log(id);
                    // console.log($(this).attr("data-id"));
                    Swal.fire({
                        title: 'Are you sure?',
                        text: "You want to update this!",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Yes, update it!'
                    }).then((result) => {
                        if (result.isConfirmed) {

                            $.ajax({
                                url: "/deleteDriverAddress",
                                type: "POST",
                                data: { id: id },

                                success: function (data) {
                                    if (data.status) {
                                        const Toast = Swal.mixin({
                                            toast: true,
                                            position: 'top-end',
                                            showConfirmButton: false,
                                            timer: 2000,
                                            timerProgressBar: true,
                                            didOpen: (toast) => {
                                                toast.addEventListener('mouseenter', Swal.stopTimer)
                                                toast.addEventListener('mouseleave', Swal.resumeTimer)
                                            }
                                        })
                                        Toast.fire({
                                            icon: 'success',
                                            title: data.message
                                        });
                                        setTimeout(function () {
                                            window.location.reload();
                                        }, 2000);
                                    } else {
                                        Swal.fire({
                                            title: 'Error!',
                                            text: 'Something went wrong',
                                            icon: 'error',
                                            confirmButtonText: 'Cool'
                                        })
                                    }

                                }
                            });


                        }
                    })
                });

                // jQuery('#fromDate').datepicker({
                //     format: 'dd/mm/yyyy',
                //     maxDate: new Date(),
                //     closeOnSelected: true,
                //     autoclose: true,
                //     endDate: "today"
                // });
                jQuery('.mydatepickerDOB').datepicker({
                    format: 'mm/dd/yyyy',
                    maxDate: new Date(),
                    closeOnSelected: true,
                    autoclose: true,
                    endDate: "today"
                });

                jQuery('.mydatepicker').datepicker({
                    format: 'dd/mm/yyyy',
                    closeOnSelected: true,
                    autoclose: true,
                });
                jQuery('#datepicker-autoclose').datepicker({
                    autoclose: true,
                    todayHighlight: true,
                    maxDate: new Date()
                });

                // --------------------------------------Multiple form---------------------------------
                var max_fields = 10;
                var wrapper = $(".container1");
                var add_button = $(".add_form_field");

                var x = 1;
                $(add_button).click(function (e) {
                    e.preventDefault();
                    if (x < max_fields) {
                        x++;
                        $(wrapper).append('<div>   <div class="form-group row"><label for="DriverAddress"class="col-sm-3 control-label col-form-label">DriverAddress</label><div class="col-md-9"><input type="text" class="form-control" name="DriverAddress[]"value="" id="DriverAddress"></div> </div> <div class="form-group row"><label for="DriverCity"class="col-sm-3 control-label col-form-label">Driver City</label><div class="col-md-9"> <input type="text" class="form-control" name="DriverCity[]" value="" id="DriverCity"> </div></div><div class="form-group row"><label for="DriverState" class="col-sm-3 control-label col-form-label">Driver State</label><div class="col-md-9"><input type="text" class="form-control" name="DriverState[]"value="" id="DriverState"></div></div><div class="form-group row"><label for="DriverCountry"class="col-sm-3 control-label col-form-label">Driver Country</label><div class="col-md-9"> <input type="text" class="form-control" name="DriverCountry[]" value="" id="DriverCountry"></div></div><div class="form-group row"><label for="DriverProvince"class="col-sm-3 control-label col-form-label">Driver Province</label> <div class="col-md-9"><input type="text" class="form-control" name="DriverProvince[]" value="" id="Driver Province"></div></div><div class="form-group row"><label for="DriverPostalCode"class="col-sm-3 control-label col-form-label">Driver PostalCode</label><div class="col-md-9"><input type="text" class="form-control" name="DriverPostalCode[]" value="" id="DriverPostalCode"></div></div><div class="form-group row"><label for="DriverPostalCode" class="col-sm-3 control-label col-form-label">From Date</label><div class="col-md-9"><input type="date" class="form-control" name="fromDate[]"  value="" data-fromDate="' + x + '" id="fromDate' + x + '"></div></div><div class="form-group row"><label for=""class="col-sm-3 control-label col-form-label">To Date</label> <div class="col-md-9"><input type="date" class="form-control" onfocusout="toDate1(' + x + ')"  name="toDate[]"  id="toDate' + x + '"></div></div> <input type="hidden" name="singleDurationInput[]"  id="singleDurationInput' + x + '"> <span id="singleDuration' + x + '"></span>   <br ><a href="#" class="btn btn-danger delete">Delete</a></div></div>'); //add input box
                    } else {
                        alert('You Reached the limits')
                    }
                });

                $(wrapper).on("click", ".delete", function (e) {
                    e.preventDefault();
                    $(this).parent('div').remove();
                    x--;
                })


                // $(document).on('click', '#fromDate', function () {
                //     alert(this.id);
                //     alert($('#fromDate').data('fromDate'));
                // jQuery('#fromDate').datepicker({
                //     format: 'dd/mm/yyyy',
                //     maxDate: new Date(),
                //     closeOnSelected: true,
                //     autoclose: true,
                //     endDate: "today"
                // });



                // })
                // $(document).on('click', '#toDate', function () {
                // jQuery('#toDate').datepicker({
                //     format: 'dd/mm/yyyy',
                //     maxDate: new Date(),
                //     closeOnSelected: true,
                //     autoclose: true,
                //     endDate: "today"
                // });
                // })
                // --------------------------------------Multiple form---------------------------------

            });
            let date = new Date();
            var currentdate =
                ("00" + (date.getMonth() + 1)).slice(-2) + "/" +
                ("00" + date.getDate()).slice(-2) + "/" +
                date.getFullYear();
            function calculateAge(birthDate, otherDate) {
                birthDate = new Date(birthDate);
                otherDate = new Date(otherDate);
                // console.log(birthDate);
                // console.log(otherDate);
                var years = (otherDate.getFullYear() - birthDate.getFullYear());

                if (otherDate.getMonth() < birthDate.getMonth() ||
                    otherDate.getMonth() == birthDate.getMonth() && otherDate.getDate() < birthDate.getDate()) {
                    years--;
                }
                return years;
            }


            // var age = calculateAge("02/24/1991", "02/24/2010");


            $("#ifbelowthreeYears").hide();
            $("#legalRightUSAAtachmentdiv").hide();
            $("#legalRightyesnoData").hide();
            $("#fastCardyesnoData").hide();
            $("#nofastcarddiv").hide();

            $('#DOB').on('change', function () {
                $('body #updateDriver_details #age').val('')
                // alert(this.value)
                var age = calculateAge(this.value, currentdate);
                // alert(age)
                $('body #updateDriver_details #age').val(age)

            })
            $('#belowThree').on('change', function () {

                if (this.checked) {
                    $("#ifbelowthreeYears").show();
                    // alert('checked')
                } else {
                    $("#ifbelowthreeYears").hide();
                    // alert('un checked')
                }

            })
            $('#legalRightUSA').on('change', function () {

                if ($('#legalRightUSA').val() == "Yes") {
                    $("#legalRightUSAAtachmentdiv").show();
                    // alert('checked')
                } else if ($('#legalRightUSA').val() == "No") {
                    $("#legalRightUSAAtachmentdiv").hide();
                    // alert('un checked')
                }

            })
            $('#legalRightyesno').on('change', function () {

                if ($('#legalRightyesno').val() == "Yes") {
                    $("#legalRightyesnoData").show();
                    // alert('checked')
                } else if ($('#legalRightyesno').val() == "No") {
                    $("#legalRightyesnoData").hide();
                    // alert('un checked')
                }

            })
            $('#fastCardyesno').on('change', function () {

                if ($('#fastCardyesno').val() == "Yes") {
                    $("#fastCardyesnoData").show();
                    $("#nofastcarddiv").hide();
                } else if ($('#fastCardyesno').val() == "No") {

                    $("#nofastcarddiv").show();
                    $("#fastCardyesnoData").hide();
                }

            })
            $('#legalRight').on('change', function () {
                let dtls = $("#legalRight").val() + " Attachment Canada"
                $("#legalRightAtachmentText").html(dtls)
            })

            // $(document).on('click', '.editmodalclass', function () {
            // alert('test')
            $("body #updateDriver_details #comments").hide('');
            let id = $('#updateDriver_details #id').val();
            // console.log($(this).attr("data-id"));
            console.log(id);
            $.ajax({
                url: "/editupdateDriverDetailsForm",
                type: "GET",
                data: { id: id },
                success: function (data) {
                    // console.log(data.data.eventsCalTimezone);
                    // alert('test '+data.data.eventsCalTimezone)

                    if (data.status) {
                        let approveStatus;
                        if (data.data.approveStatus == 0) {
                            // alert(0)
                            approveStatus = 'Waiting For admin approval'
                        } else {
                            // alert(1)
                            approveStatus = 'Approved'
                        }
                        $("body #updateDriver_details #commentsSection").html('<input required type="text" class="form-control" placeholder="Please enter comments this will help admin to approve this request" name="comment" value="" id="comments">');
                        $("body #updateDriver_details #approveStatus").text(approveStatus);
                        $("body #updateDriver_details .add_form_field").hide();
                        $("body #updateDriver_details #submitBtn").text('Update');
                        $('body #updateDriver_details #actionData').val('Update');
                        $('body #updateDriver_details #firstName').val(data.data.firstName);
                        $('body #updateDriver_details #middleName').val(data.data.middleName);
                        $('body #updateDriver_details #lastName').val(data.data.lastName);
                        $('body #updateDriver_details #DOA').val(data.data.DOA);
                        $('body #updateDriver_details #companyAddress').val(data.data.companyAddress);
                        $('body #updateDriver_details #companyCity').val(data.data.companyCity);
                        $('body #updateDriver_details #companyState').val(data.data.companyState);
                        $("body #updateDriver_details #companyCountry [value=" + '"' + data.data.companyCountry + '"' + "]").attr("selected", true);
                        $('body #updateDriver_details #companyProvince').val(data.data.companyProvince);
                        $('body #updateDriver_details #companyPostalCode').val(data.data.companyPostalCode);
                        $("body #updateDriver_details #position [value=" + '"' + data.data.position + '"' + "]").attr("selected", true);
                        $("body #updateDriver_details #eventsCalCountry [value=" + '"' + data.data.eventsCalCountry + '"' + "]").attr("selected", true);
                        $("body #updateDriver_details #eventsCalTimezone [value=" + '"' + data.data.eventsCalTimezone + '"' + "]").attr("selected", true);
                        $('body #updateDriver_details #eventsCalTimezoneHidden').val(data.data.eventsCalTimezone);
                        $('body #updateDriver_details #sin').val(data.data.sin);
                        $('body #updateDriver_details #DriverAddress').val(data.data.DriverAddress);
                        $('body #updateDriver_details #DriverState').val(data.data.DriverState);
                        $('body #updateDriver_details #DriverCity').val(data.data.DriverCity);
                        $('body #updateDriver_details #DriverCountry').val(data.data.DriverCountry);
                        $('body #updateDriver_details #DriverProvince').val(data.data.DriverProvince);
                        $('body #updateDriver_details #DriverPostalCode').val(data.data.DriverPostalCode);
                        if (data.data.belowThree != "") {
                            $('body #updateDriver_details #belowThree').attr("checked", true);
                            $("#ifbelowthreeYears").show();

                        } else {
                            $('body #updateDriver_details #belowThree').attr("false", true);
                            $("#ifbelowthreeYears").hide();
                        }
                        $('body #updateDriver_details #DriverAddress1').val(data.data.DriverAddress1);
                        $('body #updateDriver_details #DriverState1').val(data.data.DriverState1);
                        $('body #updateDriver_details #DriverCity1').val(data.data.DriverCity1);
                        $('body #updateDriver_details #DriverCountry1').val(data.data.DriverCountry1);
                        $('body #updateDriver_details #DriverProvince1').val(data.data.DriverProvince1);
                        $('body #updateDriver_details #DriverPostalCode1').val(data.data.DriverPostalCode);
                        $('body #updateDriver_details #phoneCanada').val(data.data.phoneCanada);
                        $('body #updateDriver_details #phoneUSA').val(data.data.phoneUSA);
                        $('body #updateDriver_details #emegencyName').val(data.data.emegencyName);
                        $('body #updateDriver_details #emegencyContact').val(data.data.emegencyContact);
                        $('body #updateDriver_details #email').val(data.data.email);
                        $('body #updateDriver_details #DOB').val(data.data.DOB);
                        $('body #updateDriver_details #age').val(data.data.age);
                        $("body #updateDriver_details #legalRightyesno [value=" + '"' + data.data.legalRightyesno + '"' + "]").attr("selected", true);
                        $("body #updateDriver_details #legalRight [value=" + '"' + data.data.legalRight + '"' + "]").attr("selected", true);

                        if (data.data.legalRightAtachment != "") {
                            let legalRightAtachmentlink = 'uploads/attachment/driverDtls_legalRightAtachment/' + data.data.legalRightAtachment;
                            $("body #updateDriver_details #legalRightAtachment_file_link").attr("href", legalRightAtachmentlink);
                        } else {
                            $("body #updateDriver_details #legalRightAtachment_file_link").hide();
                        }

                        $("body #updateDriver_details #legalRightUSA [value=" + '"' + data.data.legalRightUSA + '"' + "]").attr("selected", true);
                        if (data.data.legalRightUSAAtachment != "") {
                            let legalRightUSAAtachmentlink = 'uploads/attachment/driverDtls_legalRightUSAAtachment/' + data.data.legalRightUSAAtachment;
                            $("body #updateDriver_details #legalRightUSAAtachment_file_link").attr("href", legalRightUSAAtachmentlink);
                        } else {
                            $("body #updateDriver_details #legalRightUSAAtachment_file_link").hide();
                        }
                        $("body #updateDriver_details #FMCSA [value=" + '"' + data.data.FMCSA + '"' + "]").attr("selected", true);
                        $('body #updateDriver_details #referred').val(data.data.referred);
                        $('body #updateDriver_details #referredBy').val(data.data.referredBy);
                        $("body #updateDriver_details #bonded [value=" + '"' + data.data.bonded + '"' + "]").attr("selected", true);
                        $("body #updateDriver_details #convicted [value=" + '"' + data.data.convicted + '"' + "]").attr("selected", true);
                        $('body #updateDriver_details #fastCard').val(data.data.fastCard);
                        $('body #updateDriver_details #fastCardExpiry').val(data.data.fastCardExpiry);
                        $("body #updateDriver_details #fastCardyesno [value=" + '"' + data.data.fastCardyesno + '"' + "]").attr("selected", true);
                        if (data.data.fastCardAttachment != "") {
                            let fastCardAttachmentlink = 'uploads/attachment/driverDtls_fastCardAttachment/' + data.data.fastCardAttachment;
                            $("body #updateDriver_details #fastCardAttachment_file_link").attr("href", fastCardAttachmentlink);
                        } else {
                            $("body #updateDriver_details #fastCardAttachment_file_link").hide();
                        }

                        if (data.data.legalRightUSA == "Yes") {
                            $("body #updateDriver_details #legalRightUSAAtachmentdiv").show();
                            // alert('checked')
                        } else if (data.data.legalRightUSA == "No") {
                            $("body #updateDriver_details #legalRightUSAAtachmentdiv").hide();
                            // alert('un checked')
                        }

                        if (data.data.legalRightyesno == "Yes") {
                            $("body #updateDriver_details #legalRightyesnoData").show();
                            // alert('checked')
                        } else if (data.data.legalRightyesno == "No") {
                            $("body #updateDriver_details #legalRightyesnoData").hide();
                            // alert('un checked')
                        }


                        $("body #updateDriver_details #fastCardneed [value=" + '"' + data.data.fastCardneed + '"' + "]").attr("selected", true);

                        if (data.data.fastCardyesno == "Yes") {
                            $("body #updateDriver_details  #fastCardyesnoData").show();
                        } else if (data.data.fastCardyesno == "No") {

                            $("body #updateDriver_details #nofastcarddiv").show();
                            $("body #updateDriver_details #fastCardyesnoData").hide();
                        }

                    } else {
                        $("body #updateDriver_details #commentsSection").html('');
                        $("body #updateDriver_details #submitBtn").text('Create');
                        $('body #updateDriver_details #actionData').val('Create');
                        $("body #updateDriver_details #fastCardAttachment_file_link").hide();
                        $("body #updateDriver_details #legalRightUSAAtachment_file_link").hide();
                        $("body #updateDriver_details #legalRightAtachment_file_link").hide();
                        // window.location = "/";
                    }

                }
            });
            // });




            function handlemultipleNames(parms, values) {
                let arr = []
                $('input[name="' + parms + '[]"]').each(function () {
                    arr.push(this.value);
                    values = arr

                });
                return values
            }
            $("#updateDriver").submit(function (event) {
                event.preventDefault();

                var values = {};
                $.each($('#updateDriver').serializeArray(), function (i, field) {
                    values[field.name] = field.value;
                    // console.log(values[field.name]); 
                });
                let actionData = $("#actionData").val()
                if (actionData != 'Update') {
                    // alert(actionData)
                    var DriverAddress = [];
                    var DriverState = [];
                    var DriverCity = [];
                    var DriverCountry = [];
                    var DriverProvince = [];
                    var DriverPostalCode = [];
                    var fromDate = [];
                    var toDate = [];
                    DriverAddress = handlemultipleNames('DriverAddress', values);
                    DriverState = handlemultipleNames('DriverState', values);
                    DriverCity = handlemultipleNames('DriverCity', values);
                    DriverCountry = handlemultipleNames('DriverCountry', values);
                    DriverProvince = handlemultipleNames('DriverProvince', values);
                    DriverPostalCode = handlemultipleNames('DriverPostalCode', values);
                    fromDate = handlemultipleNames('fromDate', values);
                    toDate = handlemultipleNames('toDate', values);
                    values['DriverAddressarr'] = DriverAddress;
                    values['DriverStatearr'] = DriverState;
                    values['DriverCityarr'] = DriverCity;
                    values['DriverCountryarr'] = DriverCountry;
                    values['DriverProvincearr'] = DriverProvince;
                    values['DriverPostalCodearr'] = DriverPostalCode;
                    values['fromDatearr'] = fromDate;
                    values['toDatearr'] = toDate;
                }

                // console.log(DriverAddress.length);

                let singleDurationInput = []
                var total = 0;
                $('input[name="singleDurationInput[]"]').each(function () {
                    singleDurationInput.push(this.value);
                    total += parseInt(this.value)
                    // values['singleDurationInput'] = singleDurationInput
                });
                // let actionData = $("#actionData").val()
                if (actionData != 'Update') {
                    if (total < 36) {
                        // alert('atleast')
                        Swal.fire({
                            title: 'Error!',
                            text: 'Atleast need 36 months to proceed further',
                            icon: 'error',
                            confirmButtonText: 'Ok'
                        })
                        return false
                    }
                }

                // alert(datas)
                Swal.fire({
                    title: 'Are you sure?',
                    text: "You want to update this!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, update it!'
                }).then((result) => {
                    if (result.isConfirmed) {
                        $("#updateDriver #submitBtn").text('Please wait');
                        $("#updateDriver #submitBtn").attr('disabled', true);
                        $.ajax({
                            url: "/updateDriverDetails",
                            type: "POST",
                            data: values,
                            success: function (data) {
                                if (data.status) {
                                    const Toast = Swal.mixin({
                                        toast: true,
                                        position: 'top-end',
                                        showConfirmButton: false,
                                        timer: 2000,
                                        timerProgressBar: true,
                                        didOpen: (toast) => {
                                            toast.addEventListener('mouseenter', Swal.stopTimer)
                                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                                        }
                                    })
                                    Toast.fire({
                                        icon: 'success',
                                        title: data.message
                                    });
                                    setTimeout(function () {
                                        window.location.reload();
                                    }, 2000);
                                } else {
                                    Swal.fire({
                                        title: 'Error!',
                                        text: 'Something went wrong',
                                        icon: 'error',
                                        confirmButtonText: 'Cool'
                                    })
                                }

                            }
                        });


                    }
                })
            });
            $("#updateAddress").submit(function (event) {
                event.preventDefault();
                var values = {};
                $.each($('#updateAddress').serializeArray(), function (i, field) {
                    values[field.name] = field.value;
                    // console.log(values[field.name]);
                });

                // alert(datas)
                Swal.fire({
                    title: 'Are you sure?',
                    text: "You want to update this!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, update it!'
                }).then((result) => {
                    if (result.isConfirmed) {
                        $("#submitBtn").text('Please wait');
                        $("#submitBtn").attr('disabled', true);
                        $.ajax({
                            url: "/UpdateDriverAddressID",
                            type: "POST",
                            data: values,
                            success: function (data) {
                                if (data.status) {
                                    const Toast = Swal.mixin({
                                        toast: true,
                                        position: 'top-end',
                                        showConfirmButton: false,
                                        timer: 2000,
                                        timerProgressBar: true,
                                        didOpen: (toast) => {
                                            toast.addEventListener('mouseenter', Swal.stopTimer)
                                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                                        }
                                    })
                                    Toast.fire({
                                        icon: 'success',
                                        title: data.message
                                    });
                                    setTimeout(function () {
                                        window.location.reload();
                                    }, 2000);
                                } else {
                                    Swal.fire({
                                        title: 'Error!',
                                        text: 'Something went wrong',
                                        icon: 'error',
                                        confirmButtonText: 'Cool'
                                    })
                                }

                            }
                        });


                    }
                })
            });
            $("#addAddress").submit(function (event) {
                event.preventDefault();
                var values = {};
                $.each($('#addAddress').serializeArray(), function (i, field) {
                    values[field.name] = field.value;
                    // console.log(values[field.name]);
                });

                // alert(datas)
                Swal.fire({
                    title: 'Are you sure?',
                    text: "You want to update this!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, update it!'
                }).then((result) => {
                    if (result.isConfirmed) {
                        $("#submitBtn").text('Please wait');
                        $("#submitBtn").attr('disabled', true);
                        $.ajax({
                            url: "/AddDriverAddressID",
                            type: "POST",
                            data: values,
                            success: function (data) {
                                if (data.status) {
                                    const Toast = Swal.mixin({
                                        toast: true,
                                        position: 'top-end',
                                        showConfirmButton: false,
                                        timer: 2000,
                                        timerProgressBar: true,
                                        didOpen: (toast) => {
                                            toast.addEventListener('mouseenter', Swal.stopTimer)
                                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                                        }
                                    })
                                    Toast.fire({
                                        icon: 'success',
                                        title: data.message
                                    });
                                    setTimeout(function () {
                                        window.location.reload();
                                    }, 2000);
                                } else {
                                    Swal.fire({
                                        title: 'Error!',
                                        text: 'Something went wrong',
                                        icon: 'error',
                                        confirmButtonText: 'Cool'
                                    })
                                }

                            }
                        });


                    }
                })
            });

    //         function fromDate1(parms){
    // //    alert('test')
    // console.log(parms);
    // // jQuery("#fromDate"+parms).focus();
    // // jQuery("#fromDate"+parms).blur();
    // jQuery('#fromDate'+parms).datepicker({
    //                 format: 'dd/mm/yyyy',
    //                 maxDate: new Date(),
    //                 closeOnSelected: true,
    //                 autoclose: true,
    //                 endDate: "today"
    //             })
    //         }
        </script>
        <script src="sweetAlert/sweetalert2.min.js"></script>
        <script src="dist/js/timeZonescript.js"></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.1/moment.min.js'></script>
        <script
            src='https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.3/moment-timezone-with-data.min.js'></script>
        <!-- <script src="./script.js"></script> -->
        <script>

            function onCountryChange() {
                // $("#eventsCalTimezone").empty();
                var countryCode = $("#eventsCalCountry").val();
                var eventsCalTimezoneHidden = $("#eventsCalTimezoneHidden").val();

                // alert(eventsCalTimezoneHidden)
                // console.log(eventsCalTimezoneHidden);
                if (eventsCalTimezoneHidden != "") {
                    // alert('data is there')
                    // $("#eventsCalTimezone").empty();
                    var eventsCalTimezoneData = $("body #updateDriver_details #eventsCalTimezone").val();
                    for (var i in timezone_json[countryCode]) {
                        var timezoneObj = timezone_json[countryCode][i];
                        var now = moment(new Date())
                        $("#eventsCalTimezone").append("<option value='" + timezoneObj.tzid + "'>" + "(UTC" + moment.tz(now, timezoneObj.tzid).format('Z') + ") " + timezoneObj.name)
                    }
                }
                else {
                    $("#eventsCalTimezone").empty();
                    var eventsCalTimezoneData = $("body #updateDriver_details #eventsCalTimezone").val();
                    for (var i in timezone_json[countryCode]) {
                        var timezoneObj = timezone_json[countryCode][i];
                        var now = moment(new Date())
                        $("#eventsCalTimezone").append("<option value='" + timezoneObj.tzid + "'>" + "(UTC" + moment.tz(now, timezoneObj.tzid).format('Z') + ") " + timezoneObj.name)
                    }
                    // $("body #updateDriver_details #eventsCalTimezone [value=" + '"' + eventsCalTimezoneData + '"' + "]").attr("selected", true);
                }
            }

            $(document).ready(function () {
                $("#eventsCalCountry").change(onCountryChange);
                //   $("#eventsCalCountry").val("US");
                onCountryChange();

            })
        </script>
</body>

</html>